{% load custom_filters %}

<nav
    class="sidebar fixed z-50 flex-none w-[226px] border-r-2 border-lightgray/[8%] dark:border-gray/20 transition-all duration-300">
    <div class="bg-white dark:bg-dark h-full">
        <div class="p-3.5 mt-3">
            <a href="/" class="main-logo w-full">
                <img src="\static\images\template\logo-light.svg" class="mx-auto dark-logo h-16 logo dark:hidden"
                    alt="logo" />
                <img src="\static\images\template\logo-dark.svg" class="mx-auto light-logo h-16 logo hidden dark:block"
                    alt="logo" />
                <img src="/static/images/template/logo-icon.png" class="logo-icon h-8 mx-auto hidden" alt="">
            </a>
        </div>
        <div class="flex items-center gap-2.5 py-2.5 pe-2.5">
            <div class="h-[2px] bg-lightgray/10 dark:bg-gray/50 block flex-1"></div>
            <button type="button" class="shrink-0 btn-toggle hover:text-primary duration-300"
                @click="$store.app.toggleSidebar()">
                <svg class="w-3.5" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path opacity="0.2"
                        d="M5.46133 6.00002L11.1623 12L12.4613 10.633L8.05922 6.00002L12.4613 1.36702L11.1623 0L5.46133 6.00002Z"
                        fill="currentColor" />
                    <path d="M0 6.00002L5.70101 12L7 10.633L2.59782 6.00002L7 1.36702L5.70101 0L0 6.00002Z"
                        fill="currentColor" />
                </svg>
            </button>
        </div>
        <div class="h-[calc(100vh-93px)] overflow-y-auto overflow-x-hidden space-y-16 px-4 pt-2 pb-4">
            <ul class="relative flex flex-col gap-1 text-sm"
                x-data="{ activeMenu: '{{activeMenu}}', activeItem: '{{activeItem}}' }">
                <li class="menu nav-item">
                    <a href="/" class="nav-link group" :class="{'active' : activeMenu === 'inicio'}">
                        <div class="flex items-center">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M2 12.2039C2 9.91549 2 8.77128 2.5192 7.82274C3.0384 6.87421 3.98695 6.28551 5.88403 5.10813L7.88403 3.86687C9.88939 2.62229 10.8921 2 12 2C13.1079 2 14.1106 2.62229 16.116 3.86687L18.116 5.10812C20.0131 6.28551 20.9616 6.87421 21.4808 7.82274C22 8.77128 22 9.91549 22 12.2039V13.725C22 17.6258 22 19.5763 20.8284 20.7881C19.6569 22 17.7712 22 14 22H10C6.22876 22 4.34315 22 3.17157 20.7881C2 19.5763 2 17.6258 2 13.725V12.2039Z"
                                    stroke="currentColor" stroke-width="1.5" />
                                <path d="M9 16C9.85038 16.6303 10.8846 17 12 17C13.1154 17 14.1496 16.6303 15 16"
                                    stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                            </svg>
                            <span class="pl-1.5">Inicio</span>
                        </div>
                    </a>
                </li>
                <li class="menu nav-item">
                    <a href="javaScript:;" class="nav-link group items-center justify-between"
                        :class="{'active' : activeMenu === 'auditoria'}"
                        @click="activeMenu === 'auditoria' ? activeMenu = null : activeMenu = 'auditoria'">
                        <div class="flex items-center">
                            <svg width="25" height="25" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path opacity="0.5"
                                    d="M16 4.00195C18.175 4.01406 19.3529 4.11051 20.1213 4.87889C21 5.75757 21 7.17179 21 10.0002V16.0002C21 18.8286 21 20.2429 20.1213 21.1215C19.2426 22.0002 17.8284 22.0002 15 22.0002H9C6.17157 22.0002 4.75736 22.0002 3.87868 21.1215C3 20.2429 3 18.8286 3 16.0002V10.0002C3 7.17179 3 5.75757 3.87868 4.87889C4.64706 4.11051 5.82497 4.01406 8 4.00195"
                                    stroke="#1C274C" stroke-width="1.5" />
                                <path d="M10.5 14L17 14" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                <path d="M7 14H7.5" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                <path d="M7 10.5H7.5" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                <path d="M7 17.5H7.5" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                <path d="M10.5 10.5H17" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                <path d="M10.5 17.5H17" stroke="#1C274C" stroke-width="1.5" stroke-linecap="round" />
                                <path
                                    d="M8 3.5C8 2.67157 8.67157 2 9.5 2H14.5C15.3284 2 16 2.67157 16 3.5V4.5C16 5.32843 15.3284 6 14.5 6H9.5C8.67157 6 8 5.32843 8 4.5V3.5Z"
                                    stroke="#1C274C" stroke-width="1.5" />
                            </svg>
                            <span class="pl-1.5">Auditoria</span>
                        </div>
                        <div class="w-4 h-4 flex items-center justify-center dropdown-icon"
                            :class="{'!rotate-180' : activeMenu === 'auditoria'}">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 h-6">
                                <path
                                    d="M11.9997 13.1714L16.9495 8.22168L18.3637 9.63589L11.9997 15.9999L5.63574 9.63589L7.04996 8.22168L11.9997 13.1714Z"
                                    fill="currentColor"></path>
                            </svg>
                        </div>
                    </a>
                    <ul x-cloak x-show="activeMenu === 'auditoria'" x-collapse class="sub-menu flex flex-col gap-1">
                        <li><a :class="{'active': activeItem === 'prueba'}" href="/db/nombre_app_auditlog_logentry">Logs</a></li>
                    </ul>
                </li>
                <li class="menu nav-item">
                    <a href="javaScript:;" class="nav-link group items-center justify-between"
                        :class="{'active' : activeMenu === 'bases_datos'}"
                        @click="activeMenu === 'bases_datos' ? activeMenu = null : activeMenu = 'bases_datos'">
                        <div class="flex items-center">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path d="M4 18V6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                <path d="M20 6V18" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" />
                                <path
                                    d="M12 10C16.4183 10 20 8.20914 20 6C20 3.79086 16.4183 2 12 2C7.58172 2 4 3.79086 4 6C4 8.20914 7.58172 10 12 10Z"
                                    stroke="currentColor" stroke-width="1.5" />
                                <path d="M20 12C20 14.2091 16.4183 16 12 16C7.58172 16 4 14.2091 4 12"
                                    stroke="currentColor" stroke-width="1.5" />
                                <path d="M20 18C20 20.2091 16.4183 22 12 22C7.58172 22 4 20.2091 4 18"
                                    stroke="currentColor" stroke-width="1.5" />
                            </svg>
                            <span class="pl-1.5">Bases de datos</span>
                        </div>
                        <div class="w-4 h-4 flex items-center justify-center dropdown-icon"
                            :class="{'!rotate-180' : activeMenu === 'bases_datos'}">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="w-6 h-6">
                                <path
                                    d="M11.9997 13.1714L16.9495 8.22168L18.3637 9.63589L11.9997 15.9999L5.63574 9.63589L7.04996 8.22168L11.9997 13.1714Z"
                                    fill="currentColor"></path>
                            </svg>
                        </div>
                    </a>
                    <ul x-cloak x-show="activeMenu === 'bases_datos'" x-collapse class="sub-menu flex flex-col gap-1">
                        {%for tabla in TABLE_NAMES%}
                        <li><a :class="{'active': activeItem === {{ tabla }}}" href="/db/{{ tabla }}">{{tabla|format_name}}</a></li>
                        {%endfor%}
                    </ul>
                </li>
            </ul>
        </div>
    </div>
</nav>